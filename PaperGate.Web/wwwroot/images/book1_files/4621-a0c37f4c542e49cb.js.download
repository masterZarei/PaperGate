(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4621],{35081:function(e,o,t){"use strict";t.r(o);var n=t(85893),s=t(41664),a=t.n(s);t(67294);var i=t(32676),c=t.n(i);o.default=e=>{let{correspondingBooks:o,type:t}=e;return(0,n.jsx)("div",{className:c().correspondingBooks,children:(0,n.jsxs)(a(),{prefetch:!1,passHref:!0,href:"/".concat("text"===t.toLowerCase()?"audiobook":"book","/").concat(o[0].destination.bookId),className:"container",children:[(0,n.jsxs)("div",{className:c().text,children:[(0,n.jsx)("span",{className:"".concat("text"===t.toLowerCase()?"icon-audiobook":"icon-Ebook"," ").concat(c().icon)}),(0,n.jsx)("span",{children:o[0].title})]}),(0,n.jsx)("div",{className:c().arrow,children:(0,n.jsx)("span",{className:"icon-chevron_left"})})]})})}},54952:function(e,o,t){"use strict";var n=t(85893),s=t(45347),a=t(26730),i=t(46582);let c=t(67294).memo(e=>{let{bc:o}=e,t={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[]};return t.itemListElement=o.map((e,o)=>({"@type":"ListItem",position:o+1,name:e.label,item:"".concat(i.l.websiteBaseUrl).concat((0,a.tm)(e.destination))})),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"breadcrumbContainer",children:(0,n.jsx)("div",{className:"breadcrumb container",children:(null==o?void 0:o.length)&&o.map((e,o)=>(0,n.jsx)("span",{className:"breadcrumb-item",children:(0,n.jsx)(s.Z,{destination:e.destination,children:(0,n.jsx)("span",{children:e.label})},o)},o))})}),(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}})]})},(e,o)=>e.bc===o.bc);o.Z=c},84203:function(e,o,t){"use strict";t.d(o,{Z:function(){return E}});var n=t(85893),s=t(11163),a=t.n(s),i=t(67294),c=t(4896),r=t(6998),l=t(95692),d=t(67799),u=t(35081),_=t(81010),m=t.n(_),p=t(5152),x=t.n(p),h=t(49706),f=t(14976),b=t(91655),j=t(85786),v=t(99009),g=t.n(v),k=t(80377),N=t.n(k),y=t(70535),B=t.n(y),I=e=>{let[o,t]=(0,i.useState)(e.showButton),[s,a]=(0,i.useState)(!0),[c,r]=(0,i.useState)(!1),l=(0,i.useRef)(null),d=(0,i.useRef)(null);return(0,i.useEffect)(()=>{var e,o;l.current.style.cursor="grab";let n={top:0,left:0,x:0,y:0},s=function(e){l.current.style.cursor="grabbing";let o=e.clientX-n.x,t=e.clientY-n.y;l.current.scrollTop=n.top-t,l.current.scrollLeft=n.left-o},a=function(){l.current.style.cursor="grab",l.current.style.removeProperty("user-select"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a)};l.current.addEventListener("mousedown",function(e){l.current.style.cursor="grabbing",l.current.style.userSelect="none",n={left:l.current.scrollLeft,top:l.current.scrollTop,x:e.clientX,y:e.clientY},document.addEventListener("mousemove",s),document.addEventListener("mouseup",a)}),l&&l.current&&t((null==l?void 0:null===(e=l.current)||void 0===e?void 0:e.scrollWidth)>(null==l?void 0:null===(o=l.current)||void 0===o?void 0:o.clientWidth))},[]),(0,n.jsxs)("div",{className:"".concat(B().swiperContainer," ").concat(e.className),ref:d,children:[o&&c&&(0,n.jsx)("button",{className:B().prev,onClick:e=>{e.preventDefault(),e.stopPropagation(),l.current.scrollTop=l.current.scrollTop+100,l.current.scrollLeft=l.current.scrollLeft+100}}),o&&s&&(0,n.jsx)("button",{className:B().next,onClick:e=>{e.preventDefault(),e.stopPropagation(),l.current.scrollTop=l.current.scrollTop-100,l.current.scrollLeft=l.current.scrollLeft-100}}),(0,n.jsx)("div",{className:"".concat(B().swiper),onScroll:()=>{var e,o,t,n;r((null==l?void 0:null===(e=l.current)||void 0===e?void 0:e.scrollLeft)<=-2),a((null==l?void 0:null===(o=l.current)||void 0===o?void 0:o.scrollWidth)-(null==l?void 0:null===(t=l.current)||void 0===t?void 0:t.clientWidth)+(null==l?void 0:null===(n=l.current)||void 0===n?void 0:n.scrollLeft)>=2)},ref:l,children:e.children})]})},w=e=>{let{showInfo:o,setShowInfo:t,info:s}=e,c=(0,i.useRef)(null),l=(0,i.useRef)(null),{windowWidth:d}=(0,r.Z)(),u=s.filter(e=>e[1].data).map((e,o)=>e[1]?(0,n.jsxs)("div",{className:N().info,children:[(0,n.jsx)("p",{className:N().key,children:e[0]}),(0,n.jsxs)("p",{className:"".concat(N().value," ").concat(e[1].url?N().link:""," ").concat(e[1].ltr?N().ltr:""),onClick:o=>{o.preventDefault(),o.stopPropagation(),e[1].url&&a().push(e[1].url)},children:[e[1].icon&&(0,n.jsx)("img",{src:e[1].icon,alt:""}),(0,j.Iq)(e[1].data)]})]},o):null);return(0,i.useEffect)(()=>{d<768&&0!==d&&l.current&&c.current&&(o?l.current.style.maxHeight=c.current.scrollHeight+50+"px":l.current.style.maxHeight="0px")},[o,l.current,c.current]),(0,i.useEffect)(()=>{d>=768&&t(!0)},[o]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:N().moreInfo,children:[(0,n.jsxs)("div",{className:N().container,ref:l,children:[(0,n.jsx)("span",{className:"icon-chevron_down",onClick:()=>{t(!o)}}),(0,n.jsx)("div",{className:N().infos,ref:c,children:u})]}),(0,n.jsx)("div",{className:N().infos,children:(0,n.jsx)(I,{swip:"x",className:N().swiper,showButton:!0,children:u})})]})})},C=t(82899);let T=x()(()=>t.e(6378).then(t.bind(t,76378)),{loadableGenerated:{webpack:()=>[76378]},ssr:!1});var S=e=>{let{price:o,beforeOffPrice:t,isOwned:a,buy:c,loadingButton:u,book:_}=e,[m,p]=(0,i.useState)(!1),[x,v]=(0,i.useState)(!1),{isAuthenticated:k}=(0,i.useContext)(h.V),{toggleLoginModal:N}=(0,i.useContext)(f.a),y=(0,i.useContext)(C.sB),{windowWidth:B}=(0,r.Z)(),I=(0,s.useRouter)(),S=()=>{k?(0,b.hF)(_.id).then(e=>{e.status==d.kF.Success&&e.result.paymentUrl&&(window.location.href=e.result.paymentUrl)}):N(!0)};return(0,n.jsx)("div",{className:"".concat(g().container," ").concat(g().electronic," ").concat(5===_.state?g().noPadding:""),children:5===_.state?(0,n.jsx)("div",{className:g().noElectronic,children:(0,n.jsx)("p",{children:"نسخهٔ الکترونیکی این کتاب هنوز به طاقچه نیامده."})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{showInfo:m,setShowInfo:p,info:[...k&&a?B>=992?[["موجود در",{data:"کتاب‌های من",url:"/mylibrary?type=text"}]]:[["مبلغ",{data:o.toString()}]]:[],..._.totalTime?[["زمان",{data:_.totalTime}]]:[],...B>=768&&""!==_.fileType?[["نوع",{data:" ",icon:"/images/bookPage/ic_".concat(_.fileType.toLowerCase(),".svg")}]]:[],["حجم",{data:"".concat(_.filesSize)}],..._.publishDate?[["سال انتشار",{data:"".concat((0,j.Iq)(new Date(_.publishDate).getFullYear()))}]]:[],..._.isAudio&&"encrypted"in _?[["قابلیت انتقال",{data:_.encrypted?"ندارد":"دارد"}]]:[],..._.numberOfPages?[["تعداد صفحه‌ها",{data:"".concat((0,j.Iq)(_.numberOfPages)," صفحه")}]]:[]]}),(0,n.jsx)("div",{className:g().actions,children:1==_.state?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:g().firstRow,children:[(0,n.jsxs)("button",{className:"".concat(g().moreInfo," ").concat(m?g().active:""),onClick:()=>{p(!m)},children:[(0,n.jsx)("img",{src:"/images/bookPage/ic_".concat(_.fileType.toLowerCase(),".svg"),alt:_.fileType.toLowerCase()}),"مشخصات"]}),(0,n.jsxs)("button",{className:g().gift,onClick:S,children:[(0,n.jsx)("span",{className:"icon-gift"}),"هدیه‌دادن"]})]}),(0,n.jsxs)("div",{className:"".concat(g().secondRow," ").concat(g().elec),children:[(B>=992||!(k&&a))&&(0,n.jsxs)("div",{className:g().priceBox,children:[(0,n.jsx)("span",{className:g().label,children:"قیمت:"}),(0,n.jsx)("div",{className:"".concat(g().price),children:0===o?(0,n.jsx)("span",{className:g().free,children:"رایگان"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:g().priceNum,children:[t>0&&t!==o&&(0,n.jsx)("div",{className:g().oldPrice,children:(0,j.Iq)((0,j.oC)(t))}),(0,j.Iq)((0,j.oC)(o))]}),(0,n.jsxs)("div",{className:g().unit,children:[t>0&&t!==o&&(0,n.jsxs)("div",{children:[(0,j.Iq)(Math.round((t-o)*100/t)),"%"]}),(0,n.jsx)("span",{children:"تومان"})]})]})})]}),(0,n.jsxs)("button",{className:g().gift,onClick:S,children:[(0,n.jsx)("span",{className:"icon-gift"}),"هدیه به دیگری"]}),k&&a?"pdf"===_.fileType.toLowerCase()?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:g().text,children:"این کتاب را در برنامهٔ طاقچه بخوان."}),(0,n.jsx)("button",{className:g().buyButton,onClick:()=>I.push("/download"),children:"خواندن در برنامهٔ طاقچه"})]}):(0,n.jsx)("button",{className:"".concat(g().readButton),onClick:()=>{_.isAudio?_.encrypted?I.push("/download"):y({book:_,orderType:d.ed.Full,showPlayer:!0}):(0,l.z1)(!1,_.id,_.title)},children:_.isAudio?_.encrypted?"شنیدن در برنامهٔ طاقچه":"شنیدن کتاب":"خواندن کتاب"}):(0,n.jsx)("button",{"data-loadingbutton":u,className:"".concat(g().buyButton," ").concat(g().active),onClick:()=>{k?"pdf"!==_.fileType.toLowerCase()?c(d.ed.Full,_.isAudio):v(!0):N(!0)},style:0===o?{margin:"0"}:{},children:0===o?B>=992?"دریافت کتاب":"دریافت رایگان کتاب":_.isAudio?"خرید و شنیدن کتاب":B>=992||B<768?"خرید و مطالعۀ کتاب":(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:g().priceInButton,children:[t>0&&t!==o&&(0,n.jsx)("span",{className:g().beforeOffPrice,children:(0,j.Iq)((0,j.oC)(t))}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"".concat(g().price),children:(0,j.Iq)((0,j.oC)(o))}),(0,n.jsxs)("span",{className:g().unit,children:[" ","تومان"," "]})]})]}),"| خرید کتاب"]})})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:g().firstRow,children:(0,n.jsxs)("button",{className:"".concat(g().moreInfo," ").concat(m?g().active:""),onClick:()=>{p(!m)},children:[""!==_.fileType&&(0,n.jsx)("img",{src:"/images/bookPage/ic_".concat(_.fileType.toLowerCase(),".svg"),alt:_.fileType.toLowerCase()}),"مشخصات"]})}),(0,n.jsx)("div",{className:"".concat(g().secondRow," ").concat(g().elec),children:(0,n.jsx)("button",{className:g().disableButton,disabled:!0,children:"ناموجود"})})]})}),x&&(0,n.jsx)(T,{isOpen:x,onClose:()=>v(!1),confirm:()=>c(d.ed.Full)})]})})};let F=x()(()=>t.e(6378).then(t.bind(t,76378)),{loadableGenerated:{webpack:()=>[76378]},ssr:!1});var L=e=>{let{isBorrowed:o,buy:t,book:a}=e,[c,u]=(0,i.useState)(!1),[_,m]=(0,i.useState)(!1),{desk:p,isAuthenticated:x}=(0,i.useContext)(h.V),{toggleLoginModal:v}=(0,i.useContext)(f.a),{windowWidth:k}=(0,r.Z)(),N=(0,s.useRouter)(),y=()=>{x&&(0,b.aX)(d.an.Subscription,null,null,!1).then(e=>{e.status==d.kF.Success&&(window.location.href=e.result.paymentUrl)})},B=a.isAudio&&x&&(null==p?void 0:p.remainingSeconds)===0;return(0,n.jsxs)("div",{className:"".concat(g().container," ").concat(g().infinity),children:[!B&&(0,n.jsx)(w,{info:[...k>=768&&a.totalTime?[["زمان",{data:a.totalTime}]]:[],...k>=768&&""!==a.fileType?[["نوع",{data:" ",icon:"/images/bookPage/ic_".concat(a.fileType.toLowerCase(),".svg")}]]:[],["حجم",{data:"".concat(a.filesSize)}],...k>=768&&a.isAudio&&"encrypted"in a?[["قابلیت انتقال",{data:a.encrypted?"ندارد":"دارد"}]]:[],...k>=992&&x&&(null==p?void 0:p.remainingSeconds)>0?[["مدت اشتراک",{data:"".concat((0,j.Iq)(Math.ceil(p.remainingSeconds/86400))," روز")}]]:[]],showInfo:c,setShowInfo:u}),(0,n.jsxs)("div",{className:"".concat(g().actions," ").concat(B?g().hideBorder:""),children:[k>=992&&(B?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:g().title,children:"این کتاب صوتی عضو بی‌نهایت است."}),(0,n.jsxs)("p",{className:g().infText,style:{marginBottom:20},children:["با نصب اپلیکیشن طاقچه و تهیهٔ اشتراک کتابخانهٔ \xabبی‌نهایت\xbb می‌توانی تا پایان اشتراکت، این کتاب و هزاران کتاب متنی و صوتی موجود در کتابخانهٔ \xabبی‌نهایت\xbb را در اپلیکیشن طاقچه مطالعه کنی."," "]})]}):(0,n.jsx)("p",{className:g().infText,style:{marginTop:20},children:"با تهیهٔ اشتراک کتابخانهٔ \xabبی‌نهایت\xbb می‌توانی تا پایان اشتراکت، این کتاب و هزاران کتاب متنی و صوتی موجود در کتابخانهٔ \xabبی‌نهایت\xbb را مطالعه کنی."})),(0,n.jsxs)("div",{className:g().firstRow,children:[(0,n.jsxs)("button",{className:" ".concat(g().moreInfo," ").concat(c?g().active:""),onClick:()=>{u(!c)},children:[(0,n.jsx)("img",{src:"/images/bookPage/ic_".concat(a.fileType.toLowerCase(),".svg"),alt:a.fileType.toLowerCase()}),"مشخصات"]}),x&&(null==p?void 0:p.remainingSeconds)>0?(0,n.jsx)("button",{onClick:y,className:g().extend,children:k>=992?(0,n.jsx)("span",{children:"تمدید اشتراک"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:(0,j.Iq)(Math.floor(p.remainingSeconds/86400))}),(0,n.jsxs)("span",{className:g().remainingDays,children:[" ","روز",(0,n.jsx)("span",{children:" باقی‌مانده"})]})]}),(0,n.jsx)("span",{children:" تمدید"})]})}):(0,n.jsxs)("button",{className:"".concat(g().aboutSubscription," ").concat(g().gray),onClick:()=>{N.push("/subscription")},children:[(0,n.jsx)("span",{className:"".concat(g().icon," icon-infinity_book_page")}),(0,n.jsx)("span",{children:"بی‌نهایت چیست؟"})]})]}),(0,n.jsx)("div",{className:g().secondRow,children:x&&p&&0!==p.remainingSeconds?"pdf"===a.fileType.toLowerCase()?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:g().text,children:"خواندن در برنامهٔ طاقچه"}),(0,n.jsx)("button",{className:"".concat(g().buyButton," ").concat(o?g().active:""),onClick:()=>N.push("/download"),children:"خواندن در برنامهٔ طاقچه"})]}):(0,n.jsx)("button",{className:"".concat(g().readButton," ").concat(o?g().active:""),onClick:()=>{o?(0,l.z1)(!1,a.id,a.title):"pdf"!==a.fileType.toLowerCase()?t(d.ed.Borrow):m(!0)},children:"دریافت از بی‌نهایت"}):(0,n.jsx)("button",{className:"".concat(g().readButton," ").concat(g().active),onClick:()=>{x?y():v(!0)},children:k>=992?"دریافت از بی‌نهایت":"خرید اشتراک \xabبی‌نهایت\xbb"})})]}),_&&(0,n.jsx)(F,{isOpen:_,onClose:()=>m(!1),confirm:()=>{t(d.ed.Borrow)}})]})},E=e=>{let{bookPage:o,subscriptionAvailable:t,isOwned:a,isBorrowed:_,beforeOffPrice:p,price:x,className:h}=e,[f,b]=(0,i.useState)(d.TR.Electronic),[j,v]=(0,i.useState)(!1),g=(0,i.useContext)(c.uL),{windowWidth:k}=(0,r.Z)(),N=(0,s.useRouter)(),y=(e,t)=>{v(!0),(0,l.Dy)(e,o.book.id,t,N,g).finally(()=>{v(!1)})};return(0,i.useEffect)(()=>{b(d.TR.Electronic)},[o]),(0,n.jsxs)("div",{className:"".concat(m().buyBoxContainer," ").concat(null!=h?h:""),children:[(0,n.jsxs)("div",{className:"".concat(m().buyBox," ").concat(t&&!a?"":m().single),children:[(t&&!a||k>=992)&&(0,n.jsxs)("div",{className:m().formats,children:[(0,n.jsxs)("button",{className:"".concat(f===d.TR.Electronic?m().active:""),onClick:()=>{b(d.TR.Electronic)},children:[(0,n.jsxs)("span",{children:[o.book.isAudio?"صوتی":"الکترونیکی",o.book.price!==o.book.beforeOffPrice&&p>0&&(0,n.jsx)("span",{className:"".concat(m().offBadge," icon-discount")})]}),5===o.book.state&&(0,n.jsx)("p",{className:m().noElectronic,children:"ناموجود"})]}),t&&!a&&(0,n.jsx)("button",{className:"".concat(f===d.TR.Subscription?m().active:""),onClick:()=>{b(d.TR.Subscription)},children:"بی‌نهایت"})]}),(0,n.jsx)("div",{className:m().actions,children:f===d.TR.Subscription?(0,n.jsx)(L,{isBorrowed:_,buy:y,book:o.book}):(0,n.jsx)(S,{price:x,beforeOffPrice:p,isOwned:a,book:o.book,buy:y,loadingButton:j})})]}),(0,n.jsx)("div",{className:m().correspondingBooks,children:o.book.correspondingBooks&&(0,n.jsx)(u.default,{correspondingBooks:o.book.correspondingBooks,type:o.book.type})})]})}},59253:function(e,o,t){"use strict";t.d(o,{Z:function(){return F}});var n=t(85893),s=t(5152),a=t.n(s),i=t(67294),c=t(45347),r=t(67799),l=e=>{let{creators:o,count:t}=e;return(0,n.jsx)(n.Fragment,{children:o.map((e,o)=>{if(t||void 0===t)return t&&t--,(0,n.jsxs)(c.Z,{destination:{type:r.gG.Filters,filters:{slug:e.slug,list:[{type:r.vA.author,value:e.id}]}},children:[0!==o&&(0,n.jsx)(n.Fragment,{children:"، "}),(0,n.jsx)("span",{style:{borderBottom:"1px solid #666666"},children:e.firstName+" "+e.lastName})]},e.id)})})},d=t(85786),u=e=>{let{rating:o,rates:t,showDes:s=!1,className:a=""}=e,i=t.reduce((e,o)=>e+o.count,0);return s?(0,n.jsx)("div",{className:a,children:i?(0,n.jsxs)("span",{children:[(0,n.jsx)("span",{children:o&&(0,d.Iq)(""+o.toFixed(1))}),(0,n.jsx)("span",{children:" از "+(0,d.Iq)(""+i)+" نظر"})]}):(0,n.jsx)("span",{children:"بدون نظر"})}):(0,n.jsx)("div",{className:a,children:"(".concat((0,d.Iq)(i),")")})},_=t(82118),m=t(97629),p=t.n(m),x=e=>{let{position:o,children:t,className:s,icon:a,focusedIcon:c,focusElement:r,disable:l,disableOnClick:d}=e,[u,_]=(0,i.useState)(!1),m=u&&null!=c?c:a;return t&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"".concat(p().tooltipButton," ").concat(s),onMouseEnter:()=>!l&&_(!u),onMouseLeave:()=>!l&&_(!u),onClick:()=>!l&&!d&&_(!u),children:[null!=r?r:(0,n.jsx)("span",{className:"".concat(m)}),u&&!l&&(0,n.jsx)("div",{className:"".concat(p().tooltipBox," ").concat(p()[o]),children:t})]})})},h=t(49706),f=t(14976),b=t(6998),j=t(47151),v=t(95692),g=t(46582),k=t(16727),N=t.n(k),y=e=>{let{rating:o,rates:t,showCommentsLink:s=!0}=e,a=t.reduce((e,o)=>e+o.count,0);return a?(0,n.jsxs)("div",{className:N().rate,children:[(0,n.jsx)("span",{className:N().rating,children:(0,d.Iq)(o.toFixed(1)).replace("٫",".")}),(0,n.jsx)("span",{children:"از ".concat((0,d.Iq)(a)," رأی")}),s&&(0,n.jsx)("span",{children:(0,n.jsx)("a",{href:"#book-comments",children:"خواندن نظرات"})})]}):(0,n.jsx)("span",{children:"بدون نظر"})},B=t(71705),I=t.n(B),w=e=>{let{categories:o,labels:t,isAudio:s}=e,[a,l]=(0,i.useState)(!1),d=(0,i.useRef)(null);(0,i.useEffect)(()=>{(null==d?void 0:d.current)&&d.current.offsetHeight<d.current.scrollHeight&&l(!0)},[null==d?void 0:d.current]);let u=(0,n.jsxs)(n.Fragment,{children:[(null==o?void 0:o.length)>0&&o.map((e,o)=>(0,n.jsxs)("span",{children:[0!==o&&(0,n.jsx)("span",{children:"، "}),(0,n.jsx)(c.Z,{className:"".concat(I().link),destination:{type:r.gG.Filters,filters:{slug:e.slug,list:[{type:r.vA.category,value:e.id},...s?[{type:r.vA.target,value:r.Vz.audio}]:[]]}},children:e.title})]},e.id)),(null==t?void 0:t.length)>0&&t.map((e,t)=>(0,n.jsxs)("span",{children:[0!==t||o.length?(0,n.jsx)("span",{children:"، "}):"",(0,n.jsx)(c.Z,{className:"".concat(I().link),destination:{type:r.gG.Filters,filters:{slug:e.slug,list:[{type:r.vA.label,value:e.tagID}]}},children:e.tag})]},e.tagID))]});return(0,n.jsx)(x,{className:I().container,position:"bottom-left",disable:!a,disableOnClick:!0,focusElement:(0,n.jsx)("div",{className:I().categoriesGroup,ref:d,children:u}),children:u})},C=t(28876),T=t.n(C);let S=a()(()=>t.e(9166).then(t.bind(t,69166)),{loadableGenerated:{webpack:()=>[69166]}});var F=e=>{var o,t;let{book:s,isMarked:a,setIsMarked:m,isOwned:p,shareText:k,className:N,audioData:B,showCommentsLink:I=!0,titlePrefix:C=""}=e,[F,L]=(0,i.useState)(!1),E=(0,i.useContext)(h.V),P=(0,i.useContext)(f.a),A=(0,v.P3)(s.authors),{windowWidth:H}=(0,b.Z)(),D="".concat(s.prefix," ").concat(s.title," ").concat(s.authors[0]?"اثر ".concat(s.authors[0].firstName," ").concat(s.authors[0].lastName):""),R=()=>{let e=!1;return s.files.forEach(o=>{(o.type===r.Tv.AudioPrev||o.type===r.Tv.PdfPrev||o.type===r.Tv.EpubPrev)&&(e=!0)}),e},q=e=>{window.location.href="".concat(g.l.readerBaseUrl,"/book/").concat(s.id,"/").concat((0,d.QN)(s.title),"?f=").concat(e==r.ed.Full)};return(0,i.useEffect)(()=>{s.isAudio&&L(!1)},[s]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"container ".concat(null!=N?N:""),children:(0,n.jsxs)("div",{className:"".concat(T().gridContainer," ").concat(s.isAudio?T().audioBook:""),children:[(0,n.jsxs)("div",{className:T().cover,children:[(0,n.jsx)("img",{className:"".concat(T().image),id:"book-image",src:s.coverUri+"?w=200",alt:D,title:D}),(0,n.jsx)("div",{className:T().cssOverlay}),s.subscriptionAvailable&&(0,n.jsx)("span",{className:"".concat(T().badge," icon-infinity_badg")})]}),(0,n.jsxs)("div",{className:T().detail,children:[(0,n.jsxs)("div",{className:T().bookTitleContainer,children:[(0,n.jsx)("h1",{children:"".concat(C," کتاب").concat(s.isAudio?" صوتی":""," ").concat(s.title)}),(0,n.jsx)(x,{position:H>574?"bottom":"bottom-right",icon:"icon-error_circle",focusedIcon:"icon-error_circle",className:T().tooltipBox,children:(0,n.jsxs)("span",{className:T().tooltip,children:[(0,n.jsx)("div",{children:s.title}),s.subtitle]})})]}),(0,n.jsxs)("div",{className:T().bookInfoBox,children:[A.Author&&A.Author.length>0&&(0,n.jsxs)("div",{className:T().bookInfo,children:[(0,n.jsx)("span",{children:"نویسنده:"}),(0,n.jsx)("span",{className:T().bookInfoData,children:(0,n.jsx)(l,{creators:A.Author})})]}),A.Translator&&A.Translator.length>0&&(0,n.jsxs)("div",{className:T().bookInfo,children:[(0,n.jsx)("span",{children:"مترجم:"}),(0,n.jsx)("span",{className:T().bookInfoData,children:(0,n.jsx)(l,{creators:A.Translator})})]}),A.Editor&&A.Editor.length>0&&(0,n.jsxs)("div",{className:T().bookInfo,children:[(0,n.jsx)("span",{children:"ویراستار:"}),(0,n.jsx)("span",{className:T().bookInfoData,children:(0,n.jsx)(l,{creators:A.Editor})})]}),A.Narrator&&A.Narrator.length>0&&(0,n.jsxs)("div",{className:T().bookInfo,children:[(0,n.jsx)("span",{children:"گوینده:"}),(0,n.jsx)("span",{className:T().bookInfoData,children:(0,n.jsx)(l,{creators:A.Narrator})})]}),A.Collector&&A.Collector.length>0&&(0,n.jsxs)("div",{className:T().bookInfo,children:[(0,n.jsx)("span",{children:"گردآورنده:"}),(0,n.jsx)("span",{className:T().bookInfoData,children:(0,n.jsx)(l,{creators:A.Collector})})]}),s.PublisherID&&(0,n.jsxs)("div",{className:"".concat(T().bookInfo," ").concat(s.isAudio?T().hideToLg:T().hideToMd),children:[(0,n.jsx)("span",{children:"انتشارات:"}),(0,n.jsx)("span",{className:"".concat(T().bookInfoData),children:(0,n.jsx)(c.Z,{destination:{type:r.gG.Filters,filters:{slug:s.publisherSlug,list:[{type:r.vA.publisher,value:s.PublisherID}]}},children:(0,n.jsx)("span",{className:T().underline,children:s.publisher})})})]}),((null===(o=s.categories)||void 0===o?void 0:o.length)>0||(null===(t=s.labels)||void 0===t?void 0:t.length)>0)&&(0,n.jsxs)("div",{className:"".concat(T().bookInfo," ").concat(s.isAudio?T().hideToLg:T().hideToMd),children:[(0,n.jsx)("span",{children:"دسته‌بندی:"}),(0,n.jsx)("span",{className:"".concat(T().bookInfoData),children:(0,n.jsx)(w,{categories:s.categories,labels:s.labels,isAudio:s.isAudio})})]}),(0,n.jsxs)("div",{className:"".concat(T().bookInfo," ").concat(T().hideToMd),children:[(0,n.jsx)("span",{children:"امتیاز:"}),(0,n.jsx)("span",{className:T().bookInfoData,children:(0,n.jsx)(y,{rating:s.rating,rates:s.rates,showCommentsLink:I})})]})]})]})]})}),(0,n.jsxs)("div",{className:"".concat(T().actionBox," ").concat(s.isAudio?T().audioBook:""),children:[(0,n.jsxs)("div",{className:T().actions,children:[(0,n.jsxs)("div",{className:T().actionIconBox,children:[s.state!==r.Qc.NoElectronic&&(0,n.jsx)("button",{className:"".concat(T().actionIcon," ").concat(p?T().bookMarkDisable:""," ").concat(a?"icon-bookmark-1":"icon-bookmark"),title:a?"حذف نشان":"نشان کردن",onClick:()=>{E.isAuthenticated?a?(0,j.J1)(s.id).then(e=>{e.status==r.kF.Success&&m(!1)}):(0,j.mV)(s.id).then(e=>{e.status==r.kF.Success&&m(!0)}):P.toggleLoginModal(!0)}}),(0,n.jsx)("button",{className:"".concat(T().actionIcon," icon-share"),title:"اشتراک گذاری",onClick:()=>(0,d.zp)(k)})]}),s.rating&&(0,n.jsxs)("span",{className:"".concat(T().rate),children:[(0,n.jsx)(_.Z,{rating:s.rating,size:1,className:T().rateStars,showRatingNumber:!0}),(0,n.jsx)(u,{rating:s.rating,rates:s.rates,className:T().rateInfo}),I&&(0,n.jsx)("a",{href:"#book-comments",children:"خواندن نظرات"})]})]}),!s.isAudio&&"pdf"!==s.fileType&&!p&&R()&&(0,n.jsx)("button",{className:T().button,onClick:()=>{q(r.ed.Sample)},id:"website_tg_bd_sample",children:"دریافت نمونه کتاب"}),s.isAudio&&!p&&R()&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S,{audioData:B,style:{display:F?"flex":"none"},autoPlay:F}),(0,n.jsx)("button",{className:T().button,onClick:()=>{L(!0)},id:"website_tg_bd_sample",style:{display:F?"none":"inline-block"},children:"شنیدن نمونه کتاب"})]})]})]})}},82118:function(e,o,t){"use strict";var n=t(85893),s=t(85786),a=t(79659),i=t.n(a);o.Z=e=>{let{rating:o,size:t=5,showRatingNumber:a=!1,className:c=""}=e,r=1,l=[];for(;r<=o&&r<=t;)l.push((0,n.jsx)("span",{className:"icon-star-2"},r)),r++;for(o-Math.floor(o)>.1&&r<=t&&(l.push((0,n.jsx)("span",{className:"icon-star ".concat(i().semiFieldStar)},r)),r++);r<=t;)l.push((0,n.jsx)("span",{className:"icon-star-1"},r)),r++;return(0,n.jsxs)("div",{className:c,children:[(0,n.jsx)("div",{children:l}),a&&(0,n.jsx)("span",{children:(0,s.Iq)(o%10==0?o:null==o?void 0:o.toFixed(1))})]})}},47151:function(e,o,t){"use strict";t.d(o,{mV:function(){return _},yZ:function(){return u},av:function(){return d},J1:function(){return m}});var n=t(76446),s=t(87447),a=t(93989),i=t(63144),c=t.n(i);class r{async post(e,o){let t=a.n2.userSession;o.session=t;var n,i=new Headers;i.append("Session",t),i.append("Content-Type","application/json");var r={method:"POST",redirect:"follow",headers:i,body:JSON.stringify(o)};return await c()("".concat(s.Z.webApi.getServer,"/v2").concat(e),r).then(e=>e.json()).then(e=>{n=e,this.interceptors.forEach(e=>{n=e(n)})}).catch(e=>console.log("error",e)),n}registerInterceptor(e){this.interceptors.push(e)}cancelRequests(){this.controller.abort()}constructor(){this.baseUrl=s.Z.webApi.webApiServer,this.interceptors=[]}}let l=new r;function d(e,o,t,s){return n.Z.post("/mybook/PostSslService.svc/v2/GetMyLibrary",{start:e,size:o,type:s,bookmarked:t})}function u(e){return l.post("/book/list",e)}function _(e){return n.Z.post("/mybook/postsslservice.svc/BookmarkBooks",{bookIds:[e]})}function m(e){return n.Z.post("/mybook/postsslservice.svc/ArchiveBooks",{bookIds:[e]})}},32676:function(e){e.exports={correspondingBooks:"correspondingBooks_correspondingBooks__aPjlF",text:"correspondingBooks_text__EIYxJ",icon:"correspondingBooks_icon__bje_L",arrow:"correspondingBooks_arrow__c6IxI"}},16727:function(e){e.exports={rate:"rate_rate__GImr_",rating:"rate_rating__zmDkN"}},81010:function(e){e.exports={buyBoxContainer:"buyBox_buyBoxContainer__9VDo6",buyBox:"buyBox_buyBox__6sT7f",formats:"buyBox_formats__RbgjR",offBadge:"buyBox_offBadge__vwuBe",noElectronic:"buyBox_noElectronic__jqQm7",active:"buyBox_active__DNJBc",single:"buyBox_single__3BJc0",correspondingBooks:"buyBox_correspondingBooks__syjDC",actions:"buyBox_actions__vl1kI"}},99009:function(e){e.exports={container:"format_container__cqy7I",infinity:"format_infinity__twfUQ",actions:"format_actions__gIe5e",secondRow:"format_secondRow__Cv19x",readButton:"format_readButton__I1wdX",buyButton:"format_buyButton__F5sXT",active:"format_active__a5guI",title:"format_title__HEsTz",infText:"format_infText__QpyI5",electronic:"format_electronic__r07YW",noPadding:"format_noPadding__ddX6N",noElectronic:"format_noElectronic__4dUud",firstRow:"format_firstRow__Cr4Io",moreInfo:"format_moreInfo__3qI9Z",gift:"format_gift__S0d5q",extend:"format_extend__fgjwz",remainingDays:"format_remainingDays__NzwFa",aboutSubscription:"format_aboutSubscription__yzXgE",icon:"format_icon___9fCM",ldio_mm4gd6v0nx:"format_ldio_mm4gd6v0nx__38Vh7",disableButton:"format_disableButton__9vOgK",quantityBox:"format_quantityBox__DwFPa",cartLink:"format_cartLink__1x_I4",text:"format_text__hWflm",priceBox:"format_priceBox__V6UN7",label:"format_label__d6zAn",price:"format_price__lC0LV",priceNum:"format_priceNum__KA_Sh",oldPrice:"format_oldPrice__U1ENI",unit:"format_unit__AF7_t",free:"format_free__FTaKu",priceInButton:"format_priceInButton__y_m9M",beforeOffPrice:"format_beforeOffPrice__8TuWw",tilMd:"format_tilMd__tnqid",hideBorder:"format_hideBorder__Do79E",button:"format_button__JlSzP",loadingio_spinner_dual_ring_1bxhex53aapi:"format_loadingio_spinner_dual_ring_1bxhex53aapi__qG1Pm"}},80377:function(e){e.exports={moreInfo:"moreInfo_moreInfo__nkN_0",container:"moreInfo_container__WPFZA",infos:"moreInfo_infos__rdP3g",info:"moreInfo_info__BE9J3",key:"moreInfo_key__WX6Qk",value:"moreInfo_value__ctk9e",link:"moreInfo_link__c7S05",ltr:"moreInfo_ltr__z52Bd"}},28876:function(e){e.exports={gridContainer:"bookHeader_gridContainer__SLVQA",cover:"bookHeader_cover__EJMSV",image:"bookHeader_image__QmTxx",cssOverlay:"bookHeader_cssOverlay__CtE_8",badge:"bookHeader_badge__BIqsR",detail:"bookHeader_detail__JY4wO",bookTitleContainer:"bookHeader_bookTitleContainer__7Z98p",tooltipBox:"bookHeader_tooltipBox__S2PiS",tooltip:"bookHeader_tooltip__XGE9R",description:"bookHeader_description__US0kO",bookInfoBox:"bookHeader_bookInfoBox__pjUjR",bookInfo:"bookHeader_bookInfo__panht",bookInfoData:"bookHeader_bookInfoData__RPHGo",underline:"bookHeader_underline__rxObp",hideToMd:"bookHeader_hideToMd__w8I_x",hideToLg:"bookHeader_hideToLg__7j5tF",moreDetail:"bookHeader_moreDetail__6YZOQ",actionBox:"bookHeader_actionBox__Ka2p_",actions:"bookHeader_actions__YlTA_",actionIconBox:"bookHeader_actionIconBox__NFdO2",actionIcon:"bookHeader_actionIcon___vHeP",bookMarkDisable:"bookHeader_bookMarkDisable__NCiWV",rate:"bookHeader_rate__iFfZu",rateStars:"bookHeader_rateStars__OZdOW",rateInfo:"bookHeader_rateInfo__aivjo",button:"bookHeader_button__Tq5X_",audioBook:"bookHeader_audioBook__w60Sr"}},71705:function(e){e.exports={"five-line-clamp":"categories_five-line-clamp__qncRE",categoriesGroup:"categories_categoriesGroup__NnTJy",container:"categories_container__tNztK",link:"categories_link__aXiRr",close:"categories_close__vKH0F",modal:"categories_modal__lnoSW",linkWithDivider:"categories_linkWithDivider__0aB2X"}},79659:function(e){e.exports={semiFieldStar:"rateStar_semiFieldStar__AgNSi"}},70535:function(e){e.exports={swiperContainer:"swiper_swiperContainer__adcy5",prev:"swiper_prev__HzleH",next:"swiper_next__Vzt2J",swiper:"swiper_swiper__WFLQs"}},97629:function(e){e.exports={tooltipButton:"Tooltip_tooltipButton__aiAyj",tooltipBox:"Tooltip_tooltipBox__AjgkR",top:"Tooltip_top__yFB_r","top-right":"Tooltip_top-right__VO0fd","top-left":"Tooltip_top-left__vCUpP","bottom-left":"Tooltip_bottom-left__4bf0H",bottom:"Tooltip_bottom___5Rye","bottom-right":"Tooltip_bottom-right__KP2ex"}}}]);